\documentclass{article}
\input{configuration/preamble.tex}

\title{Натуральные числа, индукция и аксиоматика Пеано}
\author{Михаил Михайлов}
\date{\today}
\begin{document}

\maketitle
\tableofcontents
\newpage

Целью настоящей заметки является \textit{введение} в формальные рассуждения. Оставляя за скобкой вопросы \enquote{\textit{что такое множество}?}, \enquote{\textit{что такое формула}?}, и другие подобные им вопросы, мы попробуем формально построить натуральные числа. 

Что значит \textit{формально построить натуральные числа}? Для этого мы можем обратиться к истории геометрии. Евклид в своих \enquote{Началах} предложил систему из пяти аксиом. В современном изложении, Евклидова геометрия базируется на 
\begin{itemize}[noitemsep, parsep=0pt, topsep=0pt]
    \item Неопределяемых понятиях: точка, прямая, плоскость, движение;
    \item Двух неопределяемых отношениях: \enquote{точка лежит на прямой на плоскости}, \enquote{точка лежит между двумя другими};
    \item Пяти группах аксиом, которые описывают как соотносятся между собой точки, прямые, плоскости, движение и отношения связывающие их.
\end{itemize}
Вот собственно, группы этих аксиом:
\begin{enumerate}[label=\Roman*.] 
    \item Аксиомы сочетания. 
    \begin{enumerate}[noitemsep, parsep=0pt, topsep=0pt]
        \item Через каждые две точки можно провести прямую и притом только одну. 
        \item На каждой прямой лежат по крайней мере две точки. При этом, существуют хотя бы три точки, не лежащие на одной прямой. 
        \item Через каждые три точки, не лежащие на одной прямой, можно провести плоскость и притом только одну. 
        \item На каждой плоскости есть по крайней мере три точки и существуют хотя бы четыре точки, не лежащие в одной плоскости. 
        \item Если две точки данной прямой лежат на данной плоскости, то и сама прямая лежит на этой плоскости. 
        \item Если две плоскости имеют общую точку, то они имеют ещё одну общую точку (и, следовательно, общую прямую).
    \end{enumerate}
    \item Аксиомы порядка.
    \begin{enumerate}[noitemsep, parsep=0pt, topsep=0pt] 
        \item Если точка $B$ лежит между $A$ и $C$, то все три лежат на одной прямой. 
        \item Для любых точек $A$, $B$ существует такая точка $C$, что $B$ лежит между $A$ и $C$. 
        \item Из трёх точек прямой только одна лежит между двумя другими. 
        \item Если прямая пересекает одну сторону треугольника, то она пересекает ещё другую его сторону или проходит через его вершину. \footnote{Формально, это аксиома звучит следующим образом. Для любых трех точек $A, B, C$ не лежащих на одной прямой и произвольной прямой $\ell$, такой что ни $A$, ни $B$ не лежат на $\ell$, но при этом пересечение $\ell$ и прямой $AB$ лежит между $A$, $B$, верна ровно одна из трёх возможностей: либо $C$ лежит на $\ell$, либо $\ell$ пересекает прямую $BC$, причем точка пересечения лежит между $B$ и $C$, либо $\ell$ пересекает прямую $AC$, причем точка пересечения лежит между $A$ и $C$.}
    \end{enumerate}
    \item Аксиомы движения. 
    \begin{enumerate}[noitemsep, parsep=0pt, topsep=0pt] 
        \item Движение ставит в соответствие точкам точки, прямым прямые, плоскостям плоскости, сохраняя принадлежность точек прямым и плоскостям. 
        \item Два последовательных движения дают опять движение, и для всякого движения есть обратное. 
        \item Если даны точки $A$, $A'$ и полуплоскости $\mathcal{A}$, $\mathcal{A}'$, ограниченные продолженными полупрямыми $a$, $a'$, которые исходят из точек $A$, $A'$, то существует движение, и притом единственное, переводящее $A$, $a$, $\mathcal{A}$ в $A'$, $a'$, $\mathcal{A}'$ (полупрямая и полуплоскость легко определяются на основе понятий сочетания и порядка).
    \end{enumerate}
    \item Аксиомы непрерывности. 
    \begin{enumerate}[noitemsep, parsep=0pt, topsep=0pt] 
        \item Аксиома Архимеда: всякий отрезок можно перекрыть любым отрезком, откладывая его на первом достаточное число раз (откладывание отрезка осуществляется движением). 
        \item Аксиома Кантора: если дана последовательность отрезков, вложенных один в другой, то все они имеют хотя бы одну общую точку.
    \end{enumerate}
    \item Аксиома параллельности Евклида. Через точку $A$ вне прямой $a$ в плоскости, проходящей через $A$ и $a$, можно провести лишь одну прямую, не пересекающую $a$.
\end{enumerate}

Возникновение этой аксиоматики тесно связано с наглядными представлениями об окружающем нас мире (прямые линии --- натянутые нити, лучи света и т.~п.). Длительный процесс углубления наших представлений привёл к более абстрактному пониманию геометрии. Открытие Н.~И.~Лобачевским геометрии, отличной от Евклидовой, показало, что наши представления о пространстве не являются априорными. Иными словами, Евклидова геометрия не может претендовать на роль единственной геометрии, описывающей свойства окружающего нас пространства. Развитие естествознания (главным образом физики и астрономии) показало, что Евклидова геометрия описывает структуру окружающего нас пространства лишь с определённой степенью точности и не пригодна для описания свойств пространства, связанных с перемещениями тел со скоростями, близкими к световой. Таким образом, Евклидова геометрия может рассматриваться как первое приближение для описания структуры реального физического пространства\footnote{Э.~Г.~Позняк.}.


\section{Аксиомы Пеано}
\stepcounter{subsection}

Как доказать что \(2 + 2 = 4\)? Когда мы говорим о \enquote{высокой} математике, обычно все рассуждения имеют следующую природу:
\begin{itemize}[noitemsep, topsep=0pt, parsep=0pt]
    \item Вводим какой-то объект, например графа.
    \item Доказываем какие-то свойства этого объекта. 
    \item Выясняем, что этот объект имеет какие-то приложения к практическим задачам.
\end{itemize} 
Однако для натуральных чисел, как правило первые два пункта опускаются: всем и так понятно, что такое \(1, 2, 3, \ldots\), и почему например \(2 + 2 = 4\). При этом, как будет показано далее, эти вопросы все-таки содержательны, например совсем не очевидно почему сложение натуральных чисел ассоциативно, \textit{для всех} чисел. 

Очень грубо говоря, объекты, с которыми работают, математики можно задавать конструктивно --- например графы суть просто согласованные наборы вершин и ребер, или аксиоматически, как например группы. У обоих способов есть свои преимущества и недостатки, так как для аксиоматически заданных объектов проще доказывать свойства (так как это вывод новых свойств из уже существующих свойств), в то время как с конструктивными объектами проще проводить какие-то алгоритмические доказательства.  Наша цель --- предложить систему аксиом, которая бы смогла описать натуральные числа и вывести на основе этих аксиом привычные утверждения. Рассмотрим произвольную тройку \((\mathcal{N}, \mathbf{1}, s)\), состоящую из:
\begin{itemize}[noitemsep, parsep=0pt, topsep=0pt] 
    \item некоторого множества \(\mathcal{N} \);
    \item отмеченного в нем элемента, обозначаемого \(\mathbf{1}\);
    \item отображения \(s\colon \mathcal{N} \rightarrow \mathcal{N} \).
\end{itemize}
Предположим, что эта тройка удовлетворяет следующим свойствам, которые называются аксиомами Пеано:
\begin{enumerate}[noitemsep, parsep=0pt, topsep=0pt, label=(Пе\arabic*)] 
    \item \label{ax::pa1} Если \( x, y \in \mathcal{N} \) и \( x \neq y \), то \( s(x) \neq s(y) \);
    \item \label{ax::pa2} Отмеченный элемент 1 не является образом никакого элемента множества \( \mathcal{N} \) при отображении \( s \);
    \item \label{ax::pa3} Если \( \mathcal{M} \) --- подмножество \( \mathcal{N} \), такое что \( \mathbf{1} \in \mathcal{M} \) и \( s(x) \in \mathcal{M} \) для всякого \( x \in \mathcal{M} \), то \( \mathcal{M} = \mathcal{N} \).
\end{enumerate}

\begin{remark}
    Отображение \(f \colon X \to Y\) называется инъективным, если под действием $f$ различные элементы множества $X$ принимают различные значения. В частности, аксиома \ref{ax::pa1} попросту означает, что отображение \(s\) является инъективным.
\end{remark}
\begin{remark}
    Образом \( f(A) \) множества \( A \subset X \) при отображении \(f \colon X \to Y \) называется множество, состоящее из образов \( f(a) \) всех элементов \( a \in A \),
    \[
        f(A) = \set{ f(a) |  a \in A }.
    \]
    Таким образом, аксиома \ref{ax::pa2} может быть записана в виде: \( \mathbf{1} \notin s(\mathcal{N}) \).
\end{remark}

\begin{definition}
    Будем называть подмножество \( \mathcal{M} \) множества \(\mathcal{N} \) \textit{индуктивным}, если
    \begin{itemize}[noitemsep, topsep=0pt,parsep=0pt]
        \item \( \mathbf{1} \in \mathcal{M} \);
        \item \( s(\mathcal{M}) \subset \mathcal{M} \).
    \end{itemize}
\end{definition}
\begin{remark}
    Последнюю аксиому \ref{ax::pa3} можно сформулировать так: в \( \mathcal{N} \) не существует нетривиальных, \ie отличных от \( \mathcal{N} \), индуктивных подмножеств.    
\end{remark}

Данная аксиоматика была введена в 90-х годах позапрошлого века итальянским математиком Пеано. С привычной точки зрения, \( s(x) \) --- это следующее за \( x \) натуральное число, \ie \( x + 1 \), однако сложение в множестве \( \mathcal{N} \) еще предстоит определить.

Извлечем первые следствия из аксиом Пеано. 
\begin{lemma}
    \label{lm::shifting-lemma-1}
    Справедливо равенство \(s(\mathcal{N}) = \mathcal{N} \setminus \set{\mathbf{1}} \).
\end{lemma}
\begin{proof}
    Докажем индуктивность множества
    \[
        \mathcal{M} = \set{\mathbf{1}} \cup s(\mathcal{N}). 
    \]
    По определению множества \( \mathcal{M} \) оно содержит отмеченный элемент $\mathbf{1}$. Далее, если \( a \in \mathcal{M}_1 \), то \( s(a) \in \mathcal{M} \) просто потому, что \( \mathcal{M} \) содержит образы вообще всех элементов множества \( \mathcal{N} \). В силу аксиомы \ref{ax::pa3}, \( \mathcal{M} = \mathcal{N} \), а так как \( \mathbf{1} \notin s(\mathcal{N}) \) в силу аксиомы \ref{ax::pa2}, то \( s(\mathcal{N}) = \mathcal{N} \setminus \{\mathbf{1}\} \). 
\end{proof}
\begin{lemma}
    \label{lm::shifting-lemma-2}
    Верно что \( s(a) \neq a \) при всех \( a \in \mathcal{N} \).    
\end{lemma}
\begin{proof}
    Докажем индуктивность множества
    \[
        \mathcal{M} = \set{ a \in \mathcal{N} | s(a) \neq a }.
    \]
    По аксиоме \ref{ax::pa2} $\mathbf{1} \in \mathcal{M}$. Дальше, пусть $a \in \mathcal{M}$, покажем что и $s(a) \in \mathcal{M}$. Пусть это не так: тогда $s(a) = s(s(a))$, но в силу \ref{ax::pa1} это значит что $a = s(a)$, что противоречит с тем что $a \in \mathcal{M}$. Так как множество $\mathcal{M}$ индуктивно, $\mathcal{M} = \mathcal{N}$ по \ref{ax::pa3}, и значит, по определению множества $\mathcal{M}$,  \( s(a) \neq a \) при всех \( a \in \mathcal{N} \). 
\end{proof}

\section{Сложение и умножение на множестве \texorpdfstring{$\mathcal{N}$}{N}}
Оказывается, что аксиомы Пеано, определяющие множество натуральных чисел, можно использовать для того, чтобы ввести в нем арифметические операции, а также отношение порядка. Первым на этот факт обратил внимание немецкий математик Г. Грассман.

Напомним, что операцией в множестве является некоторое отображение $F$, сопоставляющее паре $(a, b)$ элементов этого множества его элемент $c = F(a, b)$. Стандартными примерами, которые далее нас и будут интересовать, являются обычные арифметические операции: сложение и умножение. Их известными свойствами являются коммутативность ($a + b = b + a$ и $a \cdot b = b \cdot a$) и ассоциативность ($(a + b) + c = a + (b + c)$ и $a \cdot (b \cdot c) = (a \cdot b) \cdot c$). Коммутативность операции равносильна симметричности отображения $F$, \ie тому, что $F(a, b) = F(b, a)$, а ассоциативность равносильна свойству:
\[
    F(a, F(b, c)) = F(F(a, b), c)
\]
Конечно, сами эти операции нам еще предстоит определить. К тому же, неплохо показать что данные нами определения корректны: и существует всего одна операция, которая подходит под наше определение.

\subsection{Сложение. Существование и единственность} 

Рассмотрим операцию \( F \) в множестве \( \mathcal{N} \), обладающую следующими свойствами:
\begin{align}
    \label{ax::sum1}\tag{\text{Сл1}} &F(a, \mathbf{1}) = s(a) \text{ при всех } a \in \mathcal{N}; \\
    \label{ax::sum2}\tag{\text{Сл2}}  &F(a, s(b)) = s(F(a, b)) \text{ при всех } a, b \in \mathcal{N}.
\end{align}

Мы хотим доказать что операция удовлетворяющая свойствам \eqref{ax::sum1}, \eqref{ax::sum2}, ассоциативна и коммутативна. Ассоциативность можно доказать сразу. 
\begin{theorem}
    \label{th::sum-associative}
    Операция \( F: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N} \), удовлетворяющая свойствам \eqref{ax::sum1}, \eqref{ax::sum2}, ассоциативна.
\end{theorem}
\begin{proof}
    Фиксируем \( a, b \in \mathcal{N} \), пусть
    \[
        \mathcal{M} = \set{ c \in \mathcal{N} | F(a, F(b, c)) = F(F(a, b), c) }.
    \]
    Поскольку
    \[
        F(a, F(b, \mathbf{1})) \overset{\text{\eqref{ax::sum1}}}{=} F(a, s(b)) \overset{\text{\eqref{ax::sum2}}}{=} s(F(a, b)) \overset{\text{\eqref{ax::sum1}}}{=} F(F(a, b), \mathbf{1}),
    \]
    то \( \mathbf{1} \in \mathcal{M} \). Пусть \( c \in \mathcal{M} \), тогда
    \[
        F(a, F(b, s(c))) = F(a, s(F(b, c))) = s(F(a, F(b, c))) = s(F(F(a, b), c)) = F(F(a, b), s(c))
    \]
    (в последнем переходе мы воспользовались тем, что \( c \in \mathcal{M}\)), значит, \( s(c) \in \mathcal{M} \). Таким образом, \( \mathcal{M} \) ---- индуктивное множество, следовательно, \( \mathcal{M} = \mathcal{N} \).
\end{proof}
Для доказательства коммутативность надо сделать некоторую подготовку и проверить её в случае когда один из аргументов это отмеченный элемент.
\begin{lemma}
    \label{lm::sum-commutative}
    Если операция \( F: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N} \), удовлетворяет свойствам \eqref{ax::sum1}, \eqref{ax::sum2}, то для всех $a \in \mathcal{N}$ выполнено равенство:
    \[
        F(a, \mathbf{1}) = F(\mathbf{1}, a)
    \]
\end{lemma}
\begin{proof}
    Рассмотрим множество:
    \[
        \mathcal{M}_{\mathbf{1}} =  \set{a \in \mathcal{N} | F(a, \mathbf{1}) = F(\mathbf{1}, a)}
    \]
    Понятно что $\mathbf{1} \in \mathcal{M}_{\mathbf{1}}$ просто потому что $F(a, \mathbf{1}) = F(\mathbf{1}, a) = F(\mathbf{1}, \mathbf{1})$. Теперь пусть $a \in \mathcal{M}_{\mathbf{1}}$. Тогда
    \[
        F(\mathbf{1}, s(a)) = \overset{\text{\eqref{ax::sum2}}}{=} s(F(\mathbf{1}, a)) = s(F(a, \mathbf{1}))  \overset{\text{\eqref{ax::sum1}}}{=} s(s(a))  \overset{\text{\eqref{ax::sum1}}}{=} F(s(a), \mathbf{1})
    \]
    И значит $\mathcal{M}_{\mathbf{1}}  = \mathcal{N}$.
\end{proof}
\begin{theorem}
    \label{th::sum-commutative}
    Операция \( F: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N} \), удовлетворяющая свойствам \eqref{ax::sum1}, \eqref{ax::sum2}, коммутативна.    
\end{theorem}
\begin{proof}
    Зафиксируем произвольный элемент $a \in \mathcal{N}$ и рассмотрим множество    
    \[
        \mathcal{M}_{a} =  \set{b \in \mathcal{N} | F(a, b) = F(b, a)}
    \] 
    По лемме \ref{lm::sum-commutative}, $\mathbf{1} \in \mathcal{M}_{a}$. Дальше, пусть $b \in \mathcal{M}_{a}$. Тогда, в силу того что $F$ ассоциативна по теореме \ref{th::sum-associative}:
    \[
        F(a, s(b)) = s(F(a, b)) = s(F(b, a)) = F(b, s(a)) = F(b, F(\mathbf{1}, a)) = F(F(b, \mathbf{1}), a) = F(s(b), a).
    \]
\end{proof}


\begin{theorem}[Единственность сложения]
    \label{th::sum-unique}
    Существует не более одного отображения, удовлетворяющего свойствам \eqref{ax::sum1} и \eqref{ax::sum2}.   
\end{theorem}
\begin{proof}
    Фиксируем элемент \( a \in \mathcal{N} \) и рассмотрим множество
    \[
    \mathcal{M} = \{ b \in \mathcal{N} \mid F(a, b) = F'(a, b) \},
    \]
    где \( F' \) и \( F'' \) --- отображения со свойствами \eqref{ax::sum1} и \eqref{ax::sum2}. Поскольку \( F(a, \mathbf{1}) = s(a) = F'(a, \mathbf{1}) \), то \(\mathbf{1} \in \mathcal{M} \). Пусть \( b \in \mathcal{M} \), тогда \( F(a, s(b)) = s(F(a, b)) = s(F'(a, b)) = F'(a, s(b)) \), значит, \( s(b) \in \mathcal{M} \), \ie \( \mathcal{M} \) --- индуктивное множество, поэтому \( \mathcal{M} = \mathcal{N} \), тем самым \( F = F' \).
\end{proof}

\noindent Итак, было доказано, что 
\begin{itemize}[noitemsep, parsep=0pt, topsep=0pt]
    \item операция удовлетворяющая \eqref{ax::sum1} и \eqref{ax::sum2} будет коммутативной и ассоциативной;
    \item существует \textit{не более одной} такой операции.
\end{itemize}
Однако сам факт существования такой операции требует отдельного пояснения: может быть свойства \eqref{ax::sum1} и \eqref{ax::sum2} слишком требовательны и никакое отображение не сможет одновременно им удовлетворить.
\begin{theorem}
    В множестве \( \mathcal{N} \) существует операция сложения, \ie существует отображение \( F \), удовлетворяющее свойствам \eqref{ax::sum1}, \eqref{ax::sum2}. Причем такое отображение единственно и определяет в \( \mathcal{N} \) коммутативную и ассоциативную операцию.
\end{theorem}
\begin{proof}
    Рассмотрим множество \( \mathcal{M} \), состоящее из всех элементов \( a \in \mathcal{N} \), для которых существует отображение \( f_a : \mathcal{N} \rightarrow \mathcal{N} \), такое что
    \[
        f_a(\mathbf{1}) = s(a) \quad \text{и} \quad f_a(s(b)) = s(f_a(b)) \quad \text{при всех} \quad b \in \mathcal{N}.
    \]
    Положим \( f_{\mathbf{1}}(b) = s(b) \), тогда \( f_{\mathbf{1}}(\mathbf{1}) = s(1)\) и \(f_{\mathbf{1}}(s(b)) = s(s(b)) = s(f_{\mathbf{1}}(b)) \), \ie \( \mathbf{1} \in \mathcal{M} \). Если \( a \in \mathcal{M} \), то определим \( f_{s(a)} \) формулой \(f_{s(a)}(b) = s(f_a(b)) \). Имеем 
    \[ 
        f_{s(a)}(\mathbf{1}) = s(f_a(\mathbf{1})) = s(s(a)) \quad \text{и} \quad f_{s(a)}(s(b)) = s(f_a(s(b))) = s(s(f_a(b))) = s(f_{s(a)}(b)) 
    \] 
    при всех \( b \in \mathcal{N} \). Тем самым доказано, что множество \( \mathcal{M} \) индуктивно, значит, \( \mathcal{M} = \mathcal{N} \) и формула \( F(a,b) = f_a(b) \) определяет отображение \( F \), удовлетворяющее свойствам \eqref{ax::sum1} и \eqref{ax::sum2}. В силу теоремы \ref{th::sum-unique} такое отображение единственно, а в силу теорем \ref{th::sum-associative} и \ref{th::sum-commutative}, соответствующая операция является ассоциативной и коммутативной. 
\end{proof}

Далее, под записью \(a + b\) мы понимаем элемент \(c = F(a, b) \in \mathcal{N}\), где \(F\) это отображение сложения, удовлетворяющее требованиям \eqref{ax::sum1} и \eqref{ax::sum2}.

\begin{lemma}
    \label{lm::sum-has-no-neutral}
    \( a + b \neq a \) при всех \( a, b \in \mathcal{N} \).    
\end{lemma}
\begin{proof}
    Действительно, \( \mathbf{1} + b = b + \mathbf{1} = s(b) \neq 1 \) в силу леммы \ref{lm::shifting-lemma-1}. Далее, если элемент \( a \in \mathcal{N} \) таков, что \( a + b \neq a \) при всех \( b \in \mathcal{N} \), то, поскольку отображение \( s \) инъективно, \( s(a) \neq s(a + b) = s(b + a) = b + s(a) = s(a) + b \), значит, множество 
    \[
        \mathcal{M} = \set{a \in \mathcal{N} | a + b \neq a \ \ \forall b \in \mathcal{N}} 
    \] 
    индуктивно, что и требовалось доказать.     
\end{proof}

\subsection{Умножение. Существование и единственность} 
Теперь наша задача повторить то же самое для операции умножения. Помимо ассоциативности и коммутативности, к умножению предъявляется требование дистрибутивности относительно сложения, \ie \(a \times (b + c) = a \times b + a \times c\).
\begin{align}
    \tag{\text{Ум1}}\label{ax::mult1} & G(a, \mathbf{1}) = a; \\
    \tag{\text{Ум2}}\label{ax::mult2} & G(a, s(b)) = G(a, b) + a.
\end{align}

Наша цель доказать следующую теорему.
\begin{theorem}
    \label{th::mult-exist}
    Существует единственное отображение
    \[
        G: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N},
    \]
    удовлетворяющее \eqref{ax::mult1} и \eqref{ax::mult2}. При этом отображение \( G \) является операцией, ассоциативной, коммутативной и дистрибутивной относительно сложения, \ie при всех \( a, b, c \in \mathcal{N} \) имеют место равенства
    \begin{enumerate}[noitemsep, topsep=0pt, parsep=0pt]
        \item \(G(a, b) = G(b, a)\)  
        \item \(G(a, G(b, c)) = G(G(a, b), c)\); 
        \item \(G(a, b + c) = G(a, b) + G(a, c)\) 
    \end{enumerate} 
\end{theorem}

\noindent Начнем с двух вспомогательных лемм, которые дают нам симметричные варианты условий \eqref{ax::mult1} и \eqref{ax::mult2}.
\begin{lemma}
    Если отображение \( G: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N} \) удовлетворяет свойствам \eqref{ax::mult1} и \eqref{ax::mult2}, то 
    \[
        G(\mathbf{1}, a) = G(a, \mathbf{1}) = a 
    \] 
    для всех \(a \in \mathcal{N}\).
\end{lemma}
\begin{proof}
    Рассмотрим множество 
    \[
        \mathcal{M} = \set{a \in \mathcal{N} | G(\mathbf{1}, a) = G(a, \mathbf{1}) = a}
    \]
    Понятно что \(\mathbf{1} \in \mathcal{M}\). Пусть \(a \in \mathcal{M}\), тогда 
    \[
        G(s(a), \mathbf{1}) = s(a) = a + \mathbf{1} = G(a, \mathbf{1}) + \mathbf{1} = G(\mathbf{1}, a) + \mathbf{1} = G(\mathbf{1}, s(a)),
    \]
    \ie \(s(a) \in \mathcal{M}\), и значит \(\mathcal{M}\) индуктивно, \ie \(\mathcal{M} = \mathcal{N}\) и утверждение леммы верно для всех \(a \in \mathcal{N}\).
\end{proof}
\begin{lemma}
    Если отображение \( G: \mathcal{N} \times \mathcal{N} \rightarrow \mathcal{N} \) удовлетворяет свойствам \eqref{ax::mult1} и \eqref{ax::mult2}, то 
    \[
        G(s(a), b) = G(b, s(a)) = G(a, b) + b
    \] 
    для всех \(a, b \in \mathcal{N}\)
\end{lemma}
\begin{proof}
    Доказательство проходит по обычной схеме. Зафиксируем некоторый элемент \(a \in \mathcal{N}\). Пусть
    \[
        \mathcal{M}_{a} = \set{ b \in \mathcal{N} | G(s(a), b) = G(a, b) + b }.
    \]        
    Так как \(G(s(a), \mathbf{1}) = s(a) = a + \mathbf{1} = G(a, \mathbf{1}) + \mathbf{1} \), то \(\mathbf{1} \in \mathcal{M} \). Предположим, что \( b \in \mathcal{M} \). Поскольку
    \[
        G(s(a), s(b)) = G(s(a), b) + s(a) = (G(a, b) + b) + (a + \mathbf{1}) = (G(a, b) + a) + (b + \mathbf{1}) = G(a, s(b)) + s(b),
    \]
    то \( s(b) \in \mathcal{M} \), значит, \( \mathcal{M} = \mathcal{N} \).
\end{proof}

\noindent После этого доказательство теоремы \ref{th::mult-exist} разбивается на три классических этапа. 
\begin{?}\ \\
    \textit{(3 балла).} Докажите что всякое отображение удовлетворяющее свойствам \eqref{ax::mult1} и \eqref{ax::mult2} будет ассоциативно, коммутативно и дистрибутивно.
\end{?}
\begin{?}\ \\
    \textit{(2 балла).} Докажите что существует не более одного отображения удовлетворяющего свойствам \eqref{ax::mult1} и \eqref{ax::mult2}.
\end{?}
\begin{?}\ \\
    \textit{(2 балла).} Докажите что существует отображение удовлетворяющее свойствам \eqref{ax::mult1} и \eqref{ax::mult2}.
\end{?}


\section{Порядок на множестве \texorpdfstring{$\mathcal{N}$}{N}}
\subsection{Отношение порядка и его свойства}
\noindent Определим отношение порядка на \(\mathcal{N}\).
\begin{definition}
    Пусть \(a, b \in \mathcal{N}\). Говорят, что \(a\) \textit{меньше} \(b\) если существует \(c \in \mathcal{N}\) такое, что \(b = a + c\) и обозначать это как \(a < b\).
\end{definition}
\noindent Для начала покажем что любые два элемента в \(\mathcal{N}\) сравнимы. Сделаем несколько очевидных наблюдений:
\begin{proposition}
    \label{prop::n-eq}
    Если \(a = b\), то \(a < s(b)\).
\end{proposition}
\begin{proof}
    Верно, так как \(s(b) = b + \mathbf{1}\).
\end{proof}
\begin{proposition}
    \label{prop::n-le}
    Если \(a < b\), то \(a < s(b)\). 
\end{proposition}
\begin{proof}
    Очевидно
\end{proof}
\begin{proposition}
    \label{prop::n-ge}
    Если \(a > b\), то либо \(a > s(b)\), либо \(a = s(b)\).
\end{proposition}
\begin{proof}
    Раз \(a > b\), то \(a = b + c\), для некоторого \(c \in \mathcal{N}\). Если \(c = \mathbf{1}\), то \(a = s(b)\). Если \(c \neq 1\), то в силу леммы \ref{lm::shifting-lemma-1}, \(c = s(c')\) для некоторого \(c' \in \mathcal{N}\), \ie \(a = b + c' + \mathbf{1} = s(b) + c'\).
\end{proof}
\noindent Теперь докажем следующую лемму:
\begin{lemma}
    \label{lm::unit-is-smallest}
    Для всякого \(a \in \mathcal{N} \setminus \set{\mathbf{1}}\), верно что \(\mathbf{1} < a\).
\end{lemma}
\begin{proof}
    Рассмотрим множество 
    \[
        \mathcal{M} = \set{a \in \mathcal{N} \setminus \set{\mathbf{1}} | \mathbf{1} < a}.
    \]
    Докажем что \(\hat{\mathcal{M}} = \mathcal{M} \cup \set{\mathbf{1}}\) индуктивно. Понятно что \(\mathbf{1} \in \hat{\mathcal{M}}\), по определению. Теперь пусть \(a \in \hat{\mathcal{M}}\). Тогда, если \(a = \mathbf{1}\), то \(s(a) \in \hat{\mathcal{M}}\) в силу предложения \ref{prop::n-eq}. Если \(a \in \mathcal{M}\), то \(s(a) \in \hat{\mathcal{M}}\) в силу предложения \ref{prop::n-le}. Поэтому \(\hat{\mathcal{M}}\) индуктивно и значит \(\mathcal{M} = \mathcal{N} \setminus \set{\mathbf{1}}\).
\end{proof}
\begin{theorem}
    \label{th::ordering}
    Для любых элементов \( a, b \in \mathcal{N} \) имеет место в точности одна из следующих возможностей:
    \begin{enumerate}[noitemsep, topsep=0pt, parsep=0pt]
        \item \( a > b \);
        \item \( a = b \);
        \item \( a < b \).
    \end{enumerate}    
\end{theorem}
\begin{proof}[Набросок доказательства]
    То, что никакие две из перечисленных возможностей не имеют места одновременно, вытекает из \ref{lm::sum-has-no-neutral}. Чтобы доказать, что хотя бы одна из них реализуется, фиксируем элемент \( b \in \mathcal{N} \) и рассмотрим множество
    \[
        \mathcal{M} = \{a \mid a > b \  \text{или} \  a = b \  \text{или} \  a < b\}.
    \]    
    Утверждение теоремы следует из индуктивности множества \( \mathcal{M}\), которую легко проверить.   
\end{proof}
\begin{?}\ \\    
    \textit{(2 балла).} Проведите доказательство теоремы \ref{th::ordering}
\end{?}

Теперь докажем что линейный порядок, введенный на \(\mathcal{N}\), имеет привычную структуру.
\begin{corollary}
    \label{cor::ordering}
    Элементы \( a, a + \mathbf{1} \) являются соседними относительно введенного на множестве \( \mathcal{N} \) порядка, \ie не существует такого элемента \( b \in \mathcal{N} \), что \( a < b < a + \mathbf{1} \).    
\end{corollary}
\begin{proof}
    Предположим противное и что нашлась пара \(a, b \in \mathcal{N}\) такая, что \( a < b < a + \mathbf{1} \). Тогда, в силу того что \(a < b\), мы можем сказать что \(b = a + \ell_1\). С другой стороны, раз \(a + \mathbf{1} > b\), то 
    \[
        a + \mathbf{1} = b + \ell_2 = a + \ell_1 + \ell_2.
    \]
    С другой стороны, по лемме \ref{lm::unit-is-smallest}, мы знаем что \(\mathbf{1} \leq \ell_1\) и \(\mathbf{1} \leq \ell_2\)\footnote{Здесь \(\leq\) понимается в привычном смысле: \(a \leq b\) означает либо \(a = b\), либо \(a < b\)}. В частности мы можем сказать что 
    \[
        a + \mathbf{1} <  a + \ell_1 + \ell_2
    \]
    что противоречит теореме \ref{th::ordering}.
\end{proof}


\begin{theorem}
    \label{th::well-ordering}
    Всякое непустое подмножество в \( \mathcal{N} \) имеет наименьший элемент.    
\end{theorem}
\begin{proof}
    Пусть \( E \) — произвольное непустое подмножество множества \( \mathcal{N} \). Рассмотрим множество 
    \[ 
        \mathcal{M} = \set{ a \in \mathcal{N} | a \leq b \,\  \forall b \in E },
    \] 
    состоящее из нижних границ множества \( E \). Поскольку множество \( E \) не пусто, то, \( \mathbf{1} \in \mathcal{M} \), значит, найдется такой элемент \(u \in \mathcal{N} \), что \( u \in \mathcal{M} \) и \( u + \mathbf{1}  \notin \mathcal{M} \). Если будет доказано, что \( u \in E \), то \( u \) --- наименьший элемент этого множества. Поскольку \( u + \mathbf{1}  \notin \mathcal{M} \), то найдется такой элемент \( b_0 \in E \), что \( b_0 < u + 1 \). Если \( u \notin E \), то \( u < b \) при всех \( b \in E \), в частности, \( u < b_0 < u + \mathbf{1}\), что противоречит следствию \ref{cor::ordering}. 
\end{proof}

\begin{?}
    \textit{(1 балл).} Докажите, что если \( a < b \) и \( c \in \mathcal{N} \), то \( a + c < b + c \).
\end{?}
\begin{?}
    \textit{(2 балла).} Докажите, что если \( a < b \) и \( c \in \mathcal{N} \), то \( a c < b c \).
\end{?}

\subsection{Принцип математической индукции}
В рассуждениях выше, идея доказывать какие-то вещи по методу математической индукции представляется весьма соблазнительной. Проблема в том что до того, как сформулирована теорема \ref{th::well-ordering}, делать этого нельзя. Мы можем представить себе, что множество \(\mathcal{N}\) это цепочка 
\[
    \mathbf{1} \rightsquigarrow s(\mathbf{1}) \rightsquigarrow s(s(\mathbf{1})) \rightsquigarrow \ldots 
\]
Однако, если отказаться от \ref{ax::pa3}, то вполне допустимо существование так называемых \enquote{экзотических} элементов
\begin{align*}
    \mathbf{1} \rightsquigarrow s(\mathbf{1}) &\rightsquigarrow s(s(\mathbf{1})) \rightsquigarrow \ldots \\  \ldots \rightsquigarrow \mathbf{x} & \rightsquigarrow s(\mathbf{x}) \rightsquigarrow s(s(\mathbf{x}))
\end{align*}
В частности, сам принцип математической индукции требует пояснения.
\begin{theorem}[Принцип математической индукции]
    Пусть \(\{P(n)\}_{n \in \mathcal{N}}\) --- последовательность математических утверждений. Предположим, что верно утверждение \( P(\ell) \) и для всякого числа \( n  \in \mathcal{N} \) из того, что утверждения \( P(k) \) верны при \( \ell \leq k \leq n \), следует, что верно утверждение \( P(n+1) \). Тогда утверждения \( P(n) \) верны при всех \( n \geq \ell \).
\end{theorem}
\begin{proof}
    Рассмотрим множество всех \(n \in \mathcal{N}\), для которых утверждение неверно.
    \[
        N = \set{ n \in \mathcal{N} | n \geq \ell \text{ и } P(n) \text{ неверно} }.
    \]
    Предположим теперь противное. В таком случае \(N\) будет не пусто, и в силу теоремы \ref{th::ordering} у этого множества есть наименьший элемент \(n_0\). Поскольку \( P(n_0) \) --- неверное утверждение, то \( n_0 > \ell \). В силу выбора числа \( n_0 \) утверждение \( P(k) \) верно при \( k = \ell, \ell + 1, \ldots, n_0 - 1 \), значит, по основному предположению, верно и утверждение \( P(n_0) \). Полученное противоречие доказывает теорему.
    \end{proof}
    

\section{Заключение. Единственность и существование натуральных чисел}
\stepcounter{subsection}
В заключение, необходимо поговорить о тонких вопросах, возникающих здесь. Именно \enquote{\textit{не могло ли получится так, что не существует тройки объектов, удовлетворяющей аксиоматике Пеано}} и \enquote{\textit{не могло ли получится так, что существует много разных\footnote{В том смысле, что утверждение верное для одной тройки и записанное в терминах самой тройки, неверно для другой. Например, не может ли статься так, что факт \(2 + 2 \neq 4\) в какой-нибудь реализации? Такое можно наблюдать в теории групп, где система аксиом группы задает много разных объектов} троек объектов, удовлетворяющей аксиоматике Пеано}}? Понятно что обычные натуральные числа удовлетворяют этим аксиомам, но откуда их взять? Одна из конструкций следующая. 
\begin{theorem}
    \label{th::nat-numbers-existance}
    Существует тройка \((\mathcal{N}, \mathbf{1}, s)\) удовлетворяющая аксиомам \ref{ax::pa1}--\ref{ax::pa3}
\end{theorem}
\begin{proof}[Набросок доказательства]
    Пусть \(\varnothing = \set{}\) --- пустое множество. Положим \(1 \coloneqq \set{\varnothing}\)\footnote{Можно думать об этой конструкции как о том что \(\mathbf{1}\) это просто множество из одного элемента, неважно какого}. Теперь положим\footnote{чтобы определить отображение \(s\), нам нужно иметь некоторое множество, которое было бы областью действия данного отображения. Мы говорим что есть достаточно большое множество \(\mathcal{X}\) (его существование гарантируется аксиомой бесконечности из системы ZFC) для которого \(s(\mathcal{X}) \subset \mathcal{X}\), а дальше сужаемся на \(\set{1, s(1), s(s(1)), \ldots}\)}, которое может быть определено как пересечение всех подмножеств \(\mathcal{A} \subset \mathcal{X}\) таких, что \(s(\mathcal{A}) \subset \mathcal{A}\).  
    \[
        s(n) = n \cup \set{n}
    \]
    В частности при таком определении, \(n\) это просто \(n\) элементное множество. 
    \begin{align*}
        & 2 \coloneqq s(1) = \set{\varnothing, 1} \\
        & 3 \coloneqq s(2) = \set{\varnothing, 1, 2} \\
        & \ldots \\
        & n+1 \coloneqq s(n) = \set{\varnothing, 1, \ldots, n} 
    \end{align*}
    Наконец положим
    \[
        \mathbb{N} = \set{1, 2, \ldots, n, \ldots}
    \]
    Тогда утверждается что тройка \((\mathbb{N}, 1, s)\) удовлетворяет аксиомам \ref{ax::pa1}---\ref{ax::pa3}. Доказательство весьма техничное, так как требует обращения к аксиомам ZFC.
\end{proof}
\begin{?}[Для тех, кто знаком с ZFC]
    \textit{(5 баллов).} Используя следствия из аксиомы регулярности, проведите аккуратное доказательство теоремы \ref{th::nat-numbers-existance}.
\end{?}
\begin{theorem}
    Если \(\{\mathcal{N}, 1, s\}\) и \(\{\mathcal{N}', 1', s'\}\) --- две тройки, удовлетворяющие аксиомам Пеано, то существует взаимно-однозначное отображение \(\Phi: \mathcal{N} \rightarrow \mathcal{N}'\), такое что \(\Phi(1) = 1'\) и при всех \(x \in \mathcal{N}\) верно равенство \(\Phi(s(x)) = s'( \Phi(x))\).    
\end{theorem}
\begin{proof}
    Пусть отображение \(\Phi: \mathcal{N} \rightarrow \mathcal{N}'\) таково, что \(\Phi(1) = 1'\) и \(\Phi(s(x)) = s'( \Phi(x))\) при всех \(x \in \mathcal{N}\). Докажем, что \(\Phi\) является биекцией. 
    
    \noindent \textbf{Сюръективность}. Положим \(\mathcal{M} = \Phi(\mathcal{N})\). По построению \(1' = \Phi(1) \in \mathcal{M}\). Если \(y = \Phi(x) \in \mathcal{M}\), то 
    \[
        s'(y) = s'( \Phi(x)) = \Phi(s(x)) \in \mathcal{M}.
    \] 
    Доказано, что множество \(\mathcal{M}\) индуктивно, следовательно, \(\mathcal{M} = \mathcal{N}'\). Таким образом, \(\Phi(\mathcal{N}) = \mathcal{N}'\).

    \noindent \textbf{Инъективность}. Если \(x \neq 1\), то \(x = s(x_1)\), значит, \(\Phi(x) = \Phi(s(x_1)) = s'( \Phi(x_1))\), откуда следует, что \(\Phi(x) \neq 1'\). Таким образом, элемент \(1' \in \mathcal{N}'\) имеет единственный прообраз относительно отображения \(\Phi\). Рассмотрим множество
    \[
        \mathcal{M} = \{y \in \mathcal{N} \mid x \neq y \implies \Phi(x) \neq \Phi(y)\}.
    \]
    Как только что было доказано, \(1 \in \mathcal{M}\). Пусть \(y \in \mathcal{M}\) и \(x \neq s(y)\). Если \(x = 1\), то \(\Phi(x) = 1' \neq \Phi(s(y)) = s'( \Phi(y))\). Если \(x \neq 1\), то \(x = s(x_1)\). Ясно, что \(x_1 \neq y\), значит, \(\Phi(x_1) \neq \Phi(y)\), следовательно, \(s'( \Phi(x_1)) \neq s'( \Phi(y))\), или \(\Phi(x) \neq \Phi(s(y))\). Тем самым, \(\mathcal{M}\) — индуктивное множество, поэтому если \(x \neq y\), то \(\Phi(x) \neq \Phi(y)\). Таким образом, отображение \(\Phi\) --- биекция.
    
    Все, что осталось доказать, так это существование отображения \(\Phi\). Чтобы задать отображение \(\Phi\), достаточно указать его график. Напомним, что для отображения \(f \colon X \to Y\) его графиком \(\Gamma_f\) называется подмножество \(X \times Y\) состоящее из всех пар вида \((x, f(x), x \in X)\). Чтобы задать график \(\Gamma_{\Phi}\), рассмотрим множество \(\mathcal{N} \times \mathcal{N}'\) и отображение:
    \begin{align*}
        & \mathfrak{s} \colon \mathcal{N} \times \mathcal{N}' \to \mathcal{N} \times \mathcal{N}' \\
        & (n, m') \mapsto (s(n), s'(m'))
    \end{align*}
    Положим\footnote{Формально, чтобы определять множества, которые являются орбитами отображений, \ie множества вида \(\set{a, f(a), f(f(a)), \ldots}\) нам нужно иметь натуральные числа, однако в этом случае можно пользоваться просто множеством \(\mathbb{N}\).}
    \[
        \Gamma_{\Phi} \coloneqq \set{(1, 1'), \mathfrak{s}(1, 1'), \mathfrak{s}(\mathfrak{s}((1, 1')), \ldots}
    \]
    Необходимо показать что это множество является графиком и что выполняется рекуррентное соотношение \(\Phi \circ s = s' \circ \Phi\). Для этого заметим что \(\Gamma_{\Phi}\) само удовлетворяет аксиоматике Пеано и воспользуемся стандартными методами.
\end{proof}
\begin{?}\ \\
    \textit{(2 балла).} Докажите, что \(\Phi(x + y) = \Phi(x) + \Phi(y)\) и \(\Phi(xy) = \Phi(x) \Phi(y)\) для любых элементов \(x, y \in \mathcal{N}\)
\end{?}
\begin{?}\ \\
    \textit{(2 балла).} Докажите, что если \(x < y\), то \(\Phi(x) < \Phi(y)\).
\end{?}

\end{document}
